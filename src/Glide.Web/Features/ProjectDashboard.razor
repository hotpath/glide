@using Glide.Data.Projects
@using Glide.Web.Features.Shared
@if (Project is null)
{
    <HtmxLayout Title="Project Not Found" BodyClass="project-dashboard-body"></HtmxLayout>
}
else
{
    <HtmxLayout Title="@Project.Name" BodyClass="project-dashboard-body">
        <main>
            <h2>@Project.Name</h2>
            <section class="boards-section">
                <div class="section-header">
                    <h3>Boards</h3>
                    <form id="board-create-form" class="board-create-form" hx-post="/projects/@Project.Id/boards"
                          hx-target="#boards-grid" hx-swap="beforeend">
                        <input type="text" name="name" placeholder="New board name" aria-label="Board name" required/>
                        <button type="submit">Create Board</button>
                    </form>
                </div>
                <div id="boards-list" hx-get="/projects/@Project.Id/boards" hx-trigger="load" hx-swap="innerHTML">
                    <div class="loading">Loading boards...</div>
                </div>
            </section>
        </main>
    </HtmxLayout>
}

@code
{
    [Parameter] public Project? Project { get; set; }
}
