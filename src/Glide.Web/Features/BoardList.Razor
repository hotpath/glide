@using Glide.Data.Boards
@if (!Boards.Any())
{
    <div id="boards-grid" class="boards-grid"></div>
    <div id="empty-state" class="empty-state">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="9" y1="3" x2="9" y2="21"></line>
        </svg>
        <p>No boards yet. Start by creating your first board!</p>
    </div>
}
else
{
    <div id="boards-grid" class="boards-grid">
        @foreach (var board in Boards)
        {
            <div class="board-card" id="board-@board.Id">
                <div class="board-view">
                    <a href="/boards/@board.Id" class="board-name-link"><h3 class="board-name">@board.Name</h3></a>
                    <div class="board-actions">
                        <button class="btn-edit" data-board-id="@board.Id">Edit</button>
                        <button class="btn-delete" hx-delete="/boards/@board.Id" hx-target="#board-@board.Id"
                                hx-swap="delete" hx-confirm="Are you sure you want to delete this board?">Delete
                        </button>
                    </div>
                </div>
                <form class="board-edit-form" style="display: none;" hx-put="/boards/@board.Id"
                      hx-target="#board-@board.Id" hx-swap="outerHTML">
                    <input type="text" name="name" value="@board.Name" aria-label="Board name" required/>
                    <div class="edit-actions">
                        <button type="submit" class="btn-save">Save</button>
                        <button type="button" class="btn-cancel" data-board-id="@board.Id">Cancel</button>
                    </div>
                </form>
            </div>
        }
    </div>
    <div id="welcome-banner" hx-swap-oob="true" style="display: none;"></div>
}

@code
{
    [Parameter] public IEnumerable<Board> Boards { get; set; } = [];
}
