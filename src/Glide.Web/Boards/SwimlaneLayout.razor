@using Glide.Web.Cards
@foreach (var lane in Swimlanes)
{
    <div class="swimlane-column" data-swimlane-id="@lane.Id" ondrop="dropCard(event)" ondragover="allowDrop(event)">
        <div class="swimlane-header">
            <h3>@lane.Name</h3>
            <span class="card-count">@lane.Cards.Count()</span>
        </div>
        <div class="swimlane-cards" id="swimlane-cards-@lane.Id">
            @foreach (var c in lane.Cards)
            {
                <CardCard Card="@c"/>
            }
        </div>
        <form class="add-card-form" hx-post="/boards/@lane.BoardId/cards" hx-target="#swimlane-cards-@lane.Id"
              hx-swap="beforeend">
            <input type="hidden" name="swimlane_id" value="@lane.Id">
            <input type="text" name="title" placeholder="+ Add card" class="add-card-input" required>
        </form>
    </div>
}

@code
{
    [Parameter] public required IEnumerable<SwimlaneView> Swimlanes { get; set; }
}
